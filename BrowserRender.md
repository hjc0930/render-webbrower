<p align="center">
 <img width="600" src="/assets/chrome.png" alt="logo">
</p>
<p align="left">
  <img src="/assets/tools.png" />
</p>

# Browser🔧

浏览器，是我们获取外界信息的重要工具，它的功能有很多，比如：

- **browser the websit**

![start welcome](/assets/github.png)

- **watch video**

![video](/assets/watch-video.png)

- **access to information**

![infomation](/assets/react.png)

- **coding**

![coding](/assets/coding.png)

**However**，浏览器在刚诞生的时候，仅仅只能展示一些简单的文本，它是如何一步步发展到今天这样呢？

下面我们就来一探究竟

## History

### Pre Web Era💻

时间回到1950年，当时一台计算机需要占据一整个房间，而性能却比不上现在的微型计算机，但技术发展日新月异，到了 1960 年，它已能运行复杂的程序。全球各国政府和大学都认为，如果这些机器可以相互连通以促进合作共赢和科学突破，那将是一件大好事。

![alt](/assets/computer.png)

阿帕网（ARPANET）是第一个成功的网络连接计划，1969 年，第一条消息从美国加州大学洛杉矶分校（UCLA）计算机科学实验室发送到同样位于加州的斯坦福研究院（Stanford Research Institute, SRI）

由此，引发了计算机网络的一场革命。之后不同的网络相继建立，连接了全球的各所大学与研究中心。但在接下来的20年里，公众仍无法访问互联网，只有大学与政府机关内的研究人员、学生与私人企业可以使用。真正开放的互联网与第一款Web浏览器，直到 1990 年才显露雏形。

> 💡Tips: 超文本标记语言HTML(HyperText Markup Language)，最初的设计目的是为了方便各国的学者和科学家编写资料用于交流，而不是设计网页

### The Web Age

1990年，第一款浏览器问世于互联网之父Tim Berners-Lee(蒂姆·伯纳斯·李)工作期间。当时的浏览器仅仅只是一款计算机程序，其目的是检索数据。并以易于理解的方式向您解释和呈现计算机代码。

1990年浏览器诞生之后的故事：

首先出场的是NCSA Mosaic。它于1993年发布，是互联网历史上第一个获普遍使用和能够显示图片的网页浏览器。

1994年，Mosaic的原作者推出了Netscape，它在网页中使用了JavaScrip，大大改善了用户的在线体验。Netscape一经发布迅速走红，最疯狂的时候，它占据了接近百分之九十的市场份额。

> 💡Tips:1995 年 8 月 9 日，网景公开募股，最初的价格是 14 美元一股，但后来阴差阳错，改为 28 美元一股发行，当天收盘时，网景的股票成了 75 美元一股，网景成为了当时世界上市值最高的互联网公司，Netscape 的 IPO 也助长了日益增长的网络泡沫。

#### 第一次浏览器大战——垄断的形成

1995年，在网景浏览器取得市场绝对主导地位的同时，微软意识到了浏览器的市场地位，在获取Mosaic的授权后，推出了 Internet Explorer 1 ，借助自己操作系统的市场地位，和Windows系统捆绑免费销售，开始抢占浏览器市场。大战一触即发，一直持续到1998年。

这场大战最终以微软成功抢占了网景的浏览器地位为告终。在这场大战中，IE的迭代速度十分迅速，率先打造出了第一款支持CSS的商用浏览器（IE4），让网页的开发各加便捷。Trident、Gecko渲染引擎出现。Mozilla 组织建立。

但残酷的竞争，也带来了一些问题：
1. 优先增加新功能，而滞后问题的修复速度；
2. 采用专属格式，不遵从标准；
3. 为了让更多的网页显示在IE浏览器里，微软在UA上增加“兼容性标识”，UA开始变得越来越混乱；
4. 残留的兼容问题和bug，给以后的开发者带来了巨大的负担；

#### 第二次浏览器大战——新格局的出现

在接下来的时间里，Netscape 也没有坐以待毙。Mozilla组织的建立，正式为下一代浏览器 Firefox 做准备。但因种种因素影响，搭配全新 Gecko 渲染引擎的 Firefox，直到2004年才正式推出。

再看微软，因为这场胜利，IE 的迭代也开始放慢了脚步。不过这个局面并没有持续太久。

2003年，苹果公司搭配自家的 Mac OS 推出了 Safari浏览器。但受限于 Mac 的用户群体，并没有形成实际的影响。2005年，苹果开源了 Safari 的内核（Webkit，基于KHTML）。

2008年，谷歌以 Webkit 为内核，创建了 Chromium浏览器。同年，面向大众给用户的 Chrome 问世。搭载着自研的 V8 引擎，让 JavaScript 的性能得以提升，受到开发的青睐。2013年，Chromium 团队因 Chromium 与 WebKit2 存在架构上的分歧，决定 开始研发自己的渲染引擎 —— Blink（在Chrome28及往后的版本使用）。

新浏览器、新内核的出现，逐步影响着 IE 的市场，但当微软反应过来的时候，为时已晚，IE 自身的诸多历史问题和新晋浏览器的易用，让这场变化不可逆转。虽然微软在之后几年，开始迭代IE，即使发布了 Microsoft Edge，也已经无济于事。

#### 浏览器“终局”

浏览器内核主要分成：Trident、KHTML、Gecko、WebKit、Presto、Blink、EdgeHTML。

伴随着，Opera把Presto内核替换成了Blink，微软转向Chromium（放弃了EdgeHTML），可见 Chrome 的影响力已经形成。

![](/assets/webBrowserMarketShare.png)

<p align="center">
  <img src="assets/Timeline_of_the_Web_Browsers.jpg" />
</p>

## Web page🏭

网页是浏览器用于展示各种信息的平台，它主要由HTML、CSS、JavaScript和其它静态资源(video、audio)文件组成。

浏览器在渲染一个网页时，犹如一座组织严密的工厂，网页就是要组装的产品。当用户通过浏览器打开一个网页时，它会向网站部署的服务器发送请求获取组成当前网页的原材料，然后经过浏览器内核一道道工序的加工，最终将组装好的网页展示在我们面前。

![system](assets/system.png)

浏览器中的每个网页都由一个独立运行的渲染进程进行负责解析内容，这样可以保证某些网页的崩溃而不影响到整个浏览器的运行，提高浏览器运行的稳定性。

![processModel](assets/processModel.png)

### HTML CSS和JS文件的解析

浏览器获取的html资源后自上而下开始解析，生成dom树；如果遇到style的内联样式和link会将css交由css渲染器构建css规则树；其中加载link引入的外部样式文件是异步加载的，并且整个css规则树也是与dom树的构建是并行的；

由于js可以操作dom，所以在html解析到Javascript脚本时会停止对dom的解析；而css的解析会阻塞js的执行，所以在某些情况下css的解析会导致dom的解析；

![htmlRender](assets/render.png)

## The End🔚

随着互联网的快速发展，现代浏览器不仅仅是一个展示信息的工具，更像是一个操作系统；基于它内核到强大性能，它的衍生技术已经扩展到互联网各个领域。前端(JavaScript)、后端(NodeJs)、桌面端(Electron)、移动端APP(React Native)都有它的身影。

> Any application that can be written in JavaScript, willeventually be written in JavaScript.
>  --Jeff Atwood